# 计网
## 七层模型
- 物理层：对底层，规定了硬件的相关信息，传输的是bit流即01信号。
- 数据链路层：负责数据的封帧和差错检查。传输的是报文
- 网络层：负责数据的路由转发，传输的是包。
- 传输层：负责端到端的数据传输，即两台主机进程之间的数据传输。
- 会话层：负责两台主机之间会话的建立，终止等
- 表示层：对从应用层获取到的数据报文数据进行格式处理、安全处理和压缩处理。
- 应用层：最高层，传输的终点。
## TCP/IP 5 层模型
- 应用层
- 运输层负责两台计算机之间的数据传输工作。
## TCP/UDP 
- 传输层协议 TCP为可靠传输，UDP为不可靠传输，常用于对实时要求较高场景。
- TCP如何保证可靠传输：TCP头部有校验和保证传输的内容不会出差错。TCP会对到达且没有出错的报文进行确认并回复给发送方。发送方如果一段时间内没有收到对一报文的确认回复话会重发。同时TCP还有拥塞避免和流量控制保证网络通信质量。
## 拥塞控制机制
- 慢开始、拥塞避免，快重传、快恢复。
## TCP三次握手
- 客户端随机初始化序号，SYN置1，发送连接请求报文，进入SYN-SENT状态。
- 服务端接收到连接请求，随机初始化回复序列号，SYN和ACK置1，确认应答号+1，发送回复报文，进入SYN-RCVD状态
- 客户端收到回复报文，回复应答号+1，ACK置1，发送可携带数据的报文给服务方，进入established状态
- 服务端接收到报文后，进入established状态。
- 为什么要3次握手，除了是保证双方都有发送和接收能力的最小代价外，还有一个原因是客户端如果向服务端因为网络拥塞发送了多次请求，避免服务端因迟来的历史请求而造成接受混乱。
## TCP四次挥手
- 先分手的一方发送关闭连接报文，FIN置1，进入FIN_WT1状态。
- 被动方接收到请求后ACK置1，进入close_WT状态，此时可能还有报文发送。
- 分手方接收到确认分手报文后进入FIN_WT2状态。
- 被动方报文发送完毕，给分手方发送FIN置1的终止报文，进入LAST_ACK状态。
- 分手方接收方终止报文后，进行ACK回复确认。进入TIME_WT状态。
- 被动方接收到ACK确认后，关闭
- 主动放在等待2MSL后，如果没有收到新的被动方发送的终止报文，进入关闭状态。否则重置等待时间。
- 为什么要等待2MSL,MSL报文在网络传输中的最大生存时间，其实就是允许丢包一次，ACK没有到达被动方后，被动方会重新发送FIN报文。
- 为什么要
## TCP粘包
- TCP粘包是因为TCP是面向字节流的，每次发送的报文可能被操作系统分割了，导致应用层不知道报文的边界。
- 解决这个问题需要靠应用层，应用层可以规定用特殊字符、固定长度、长度信息等解决。
## ARP协议
- 网络层根据IP决定传输的的目的地的，数据链路层是通过MAC确定传输的目的地的。ARP协议就是如何根据IP确定MAC的，广播这个IP地址是谁，对应的设备收到广播后会回复自己的MAC地址。
## HTTP
- HTTP是超文本传输协议
## TCP是如何保证可靠传输的
- 序列号确认、超时重传、检验和
## HTTP与HTTPS的区别
- http是明文传输，安全性差，一次TCP连接，传播耗时一个RTT，默认端口号80
- https是http+ssl/tls 加密传输，包含两次tcp连接，耗时3个rtt，默认端口号443
## 对称加密与非对称加密
- 对称加密是 用私钥加密 ，私钥解密
- 非对称加密是 私钥签名 公钥验签  公钥加密 私钥解密
- 公钥任何人都可以获取，私钥只有服务器自己知道。非对称加密吃计算能力。所以只会在第一步使用非对称加密协商密钥，后续都使用对称加密。
- 公钥可能在传输过程中被黑客替换掉，
## http常见状态码
- 1xx 服务器接受了请求
- 2xx 代表服务器已成功接受了请求
- 3xx 请求被重定向到一个新地址
- 4xx 发生了错误
- 5xx 服务器响应发生了错误
## get与post的区别
- get与post 都是对发送服务端请求，但get发送的请求有长度限制，请求可附在url中通过？与&连接，post请求会放在请求体中，并可发送表单请求。

